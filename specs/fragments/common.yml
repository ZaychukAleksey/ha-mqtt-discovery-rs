Availability:
  oneOf:
    - allOf:
        - description: >-
            A list of MQTT topics subscribed to receive availability
            (online/offline) updates. Must not be used together with
            `availability_topic`.
          type: array
          items:
            payload_available:
              description: >-
                The payload that represents the available state. (Default:
                online)
              type: string
            payload_not_available:
              description: >-
                The payload that represents the unavailable state. (Default:
                offline)
              type: string
            topic:
              description: >-
                An MQTT topic subscribed to receive availability
                (online/offline) updates.
              type: string
            value_template:
              description: >-
                Defines a
                [template](/docs/configuration/templating/#using-templates-with-the-mqtt-integration)
                to extract device's availability from the `topic`. To determine
                the devices's availability result of this template will be
                compared to `payload_available` and `payload_not_available`.
              type: string
        - description: >-
            When `availability` is configured, this controls the conditions
            needed to set the entity to `available`. Valid entries are `all`,
            `any`, and `latest`. If set to `all`, `payload_available` must be
            received on all configured availability topics before the entity is
            marked as online. If set to `any`, `payload_available` must be
            received on at least one configured availability topic before the
            entity is marked as online. If set to `latest`, the last
            `payload_available` or `payload_not_available` received on any
            configured availability topic controls the availability. (Default:
            latest)
          type: string
    - availability_template:
        description: >-
          Defines a
          [template](/docs/configuration/templating/#using-templates-with-the-mqtt-integration)
          to extract device's availability from the `availability_topic`. To
          determine the devices's availability result of this template will be
          compared to `payload_available` and `payload_not_available`.
        type: string
      availability_topic:
        description: >-
          The MQTT topic subscribed to receive availability (online/offline)
          updates.
        type: string
      payload_available:
        description: 'The payload that represents the available state. (Default: online)'
        type: string
      payload_not_available:
        description: 'The payload that represents the unavailable state. (Default: offline)'
        type: string
Device:
  type: object
  description: >-
    Information about the device this sensor is a part of to tie it into the
    [device
    registry](https://developers.home-assistant.io/docs/device_registry_index/).
    Only works when [`unique_id`](#unique_id) is set. At least one of
    identifiers or connections must be present to identify the device.
  required: []
  properties:
    configuration_url:
      description: >-
        A link to the webpage that can manage the configuration of this device.
        Can be either an `http://`, `https://` or an internal `homeassistant://`
        URL.
      type: string
    connections:
      description: >-
        A list of connections of the device to the outside world as a list of
        tuples `[connection_type, connection_identifier]`. For example the MAC
        address of a network interface: `"connections": [["mac",
        "02:5b:26:a8:dc:12"]]`.
      type: array
      items:
        type: string
    hw_version:
      description: The hardware version of the device.
      type: string
    manufacturer:
      description: The manufacturer of the device.
      type: string
    model:
      description: The model of the device.
      type: string
    name:
      description: The name of the device.
      type: string
    suggested_area:
      description: Suggest an area if the device isnâ€™t in one yet.
      type: string
    sw_version:
      description: The firmware version of the device.
      type: string
    via_device:
      description: >-
        Identifier of a device that routes messages between this device and Home
        Assistant. Examples of such devices are hubs, or parent devices of a
        sub-device. This is used to show device topology in Home Assistant.
      type: string
